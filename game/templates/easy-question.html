{% load socialaccount %}
{% providers_media_js %}
{% load static %}
<img src='{{question.image.url}}' id="img">
<link rel="stylesheet" type="text/css" href='{% static "/css/eq-style.css" %}'>

{{question.answer}}
{{ans_length}}

<form style="display: inline-block">
{% for i in ans_length %}
    <input type="text" class='textbox' id="inputs" maxlength="1" size='3'>
{% endfor %}
</form>
<button onclick="submit()">Submit</button>
<button onclick="hint()">Hint</button>
<button><a href="{% url 'game:e-picture' next_question.id%}">Next</a></button>
<script src="https://code.jquery.com/jquery-3.4.1.js" ></script>

<script>
$(document).ready(function(){
    $( "input" ).keypress(function(){
    if ($(this).val.length == 1){
        $(this).next().focus()
    }else{
        $(this).blur()
    }
})
})

var ans = ''
$(document).keypress(function(event){
    if (ans.length < '{{question.answer}}'.length) {
        ans += (String.fromCharCode(event.which));
    }
    else {
        ans += '';
    }
});

function submit() {
    if (ans == '{{question.answer}}') {
        alert('True')
        ans = ''
    }
    else {
        alert('False')
        ans = ''
    }
}
function hint() {
    var ranChar = '';
    var characters = '{{question.answer}}'
    var charactersLength = characters.length;
    ranChar = characters.charAt(Math.floor(Math.random() * charactersLength));
    alert(ranChar)
    }
</script>